<h2 mat-dialog-title>Ajout d'une mati√®re</h2>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <mat-dialog-content>
    <mat-form-field>
      <mat-label>Nom</mat-label>
      <input matInput formControlName="nom" />
      <mat-error *ngIf="form.controls['nom'].hasError('required')"
        >Le Nom est requis</mat-error
      >
    </mat-form-field>
    <br />
    <input type="file" (change)="onFileSelected($event)" />
    <p>25 Mo max - png/jpg/jpeg</p>
    <br />
    <img
      *ngIf="previewUrl"
      [src]="previewUrl"
      alt="Image Preview"
      style="width: 100px; height: 100px; margin-top: 10px"
    />
    <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
  </mat-dialog-content>
  <mat-dialog-actions>
    <button mat-button type="button" (click)="onCancel()">Annuler</button>
    <button mat-button type="submit" [disabled]="form.invalid || loading">
      Ajouter
    </button>
  </mat-dialog-actions>
</form>
